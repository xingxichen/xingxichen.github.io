"use strict";(self["webpackChunkmy_vue"]=self["webpackChunkmy_vue"]||[]).push([[489],{33489:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("a-space",{attrs:{direction:"vertical",size:"small"}},[n("a-row",[n("a-space",[n("a-col",{attrs:{span:5}},[n("a-select",{ref:"select",staticStyle:{width:"80px"},attrs:{placeholder:"请选择卡槽"},model:{value:t.solt,callback:function(e){t.solt=e},expression:"solt"}},t._l(t.options,(function(e){return n("a-select-option",{key:e.value,attrs:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),1)],1),n("a-col",[n("div",[t._v(" 接收者手机号: ")])]),n("a-col",{attrs:{span:10}},[n("a-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入接收者手机号",type:"tel","allow-clear":""},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1)],1),n("a-row",[n("a-input",{staticStyle:{"font-size":"20px"},attrs:{placeholder:"请输入短信内容(每条最多70个字符)",type:"textarea","auto-size":{minRows:6},maxLength:70,"allow-clear":""},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),n("a-row",[n("a-button",{attrs:{type:"primary",loading:!!t.countdown||void 0},on:{click:t.send}},[t._v(" "+t._s(t.countdown?t.countdown+"s":"发送")+" ")])],1)],1)],1)},o=[],a=n(55107),c=n(28935),l={data(){return{countdown:0,options:[{value:"1",label:"卡槽一"},{value:"2",label:"卡槽二"}],secret:"",phone:"",content:"",solt:"1"}},created(){this.secret=a.Z.secret(),this.phone=a.Z.store("send-phone"),this.content=a.Z.store("send-content"),setInterval((()=>this.countdown>0?this.countdown--:""),1e3)},methods:{send(){let t=(new Date).getTime();this.countdown=5,this.$axios({method:"post",url:a.Z.serverUrl()+"/sms/send",data:{data:{sim_slot:this.solt,phone_numbers:this.phone,msg_content:this.content},timestamp:t,sign:a.Z.sisgn(t,this.secret)}}).then((t=>{200===t.data.code?c.Z.prototype.$message.success(t.data.msg):c.Z.prototype.$message.error("请求异常:"+t.data.msg)})).catch((t=>{c.Z.prototype.$message.error("请求异常:"+t.message)}))}},watch:{secret:function(t){a.Z.secret(t)},phone:function(t){a.Z.store("send-phone",t)},content:function(t){a.Z.store("send-content",t)}}},r=l,i=n(1001),u=(0,i.Z)(r,s,o,!1,null,null,null),p=u.exports}}]);
//# sourceMappingURL=489.0712f596.js.map